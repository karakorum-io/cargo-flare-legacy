<script type="text/javascript">	var tasks = [];	<?php foreach ($this->mytasks as $task) : ?>		tasks.push({id: <?= $task->id ;?>, message: '<?= addslashes($task->message) ?>'});	<?php endforeach; ?>	$(document).ready(function() {		var curtask = 0;		if (tasks.length > 0) {			$("#todays_task").val(tasks[0].message);		}		$(".task-bar .arrow-down").click(function(){			if (curtask != (tasks.length - 1)) {				curtask++;				$("#todays_task").val(tasks[curtask].message);							}		});		$(".task-bar .arrow-up").click(function(){			if (curtask != 0) {				curtask--;				$("#todays_task").val(tasks[curtask].message);							}		});		$("#task_done").click(function(){			if (confirm('Are you sure want to mark this task as completed?')) {				if (tasks[curtask] != undefined) {					$(this).attr('disabled', 'disabled');					$.ajax({						type: "POST",						url: "<?= SITE_IN ?>application/ajax/tasks.php",						dataType: "json",						data: {							action: 'done',							id: tasks[curtask].id						},						success: function(response) {							if (response.success == true) {								delete tasks[curtask];								tasks = array_values(tasks);								if (curtask != 0) curtask--;								if (tasks.length != 0) {									$("#todays_task").val(tasks[curtask].message);								} else {									$(".task-bar").hide();								}							}							$("#task_done").attr('disabled', false);							$("#task_done").attr('checked', false);						},						error: function(response) {							$("#task_done").attr('disabled', false);							$("#task_done").attr('checked', false);						}					});				}			} else {				$("#task_done").attr("checked", false);			}		});	});</script><div class="task-bar" <?= (count($this->mytasks) <= 0)?'style="display:none;"':'' ?>>	<table cellspacing="5" cellpadding="0" border="0">		<tr>			<td>Today's Tasks</td>			<td>				<input type="text" class="form-box-textfield" readonly="readonly" value="" id="todays_task" style="width: 500px;"/>			</td>			<td>				&nbsp;&nbsp;<input type="checkbox" value="1" name="task_done" id="task_done" title="Done" />&nbsp;&nbsp;			</td>			<td>				<div class=" arrow arrow-down">&#8203;</div>			</td>			<td>				<div class=" arrow arrow-up">&#8203;</div>			</td>		</tr>	</table></div>